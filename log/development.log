

Processing ApplicationController#index (for 127.0.0.1 at 2009-05-11 14:38:31) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateChapters (20090511182942)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "chapters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "teaser" text, "body" text, "position" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090511182942')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("chapters")[0m


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 14:40:16) [GET]
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 49ms (View: 45, DB: 0) | 200 OK [http://localhost/]


Processing ChaptersController#new (for 127.0.0.1 at 2009-05-11 14:41:19) [GET]
Rendering template within layouts/chapters
Rendering chapters/new
Completed in 277ms (View: 272, DB: 0) | 200 OK [http://localhost/chapters/new]


Processing ChaptersController#create (for 127.0.0.1 at 2009-05-11 14:41:43) [POST]
  Parameters: {"commit"=>"Create", "chapter"=>{"updated_at(1i)"=>"2009", "updated_at(2i)"=>"5", "created_at(1i)"=>"2009", "updated_at(3i)"=>"11", "created_at(2i)"=>"5", "body"=>"body of chapter", "title"=>"Blocks", "updated_at(4i)"=>"18", "created_at(3i)"=>"11", "updated_at(5i)"=>"41", "created_at(4i)"=>"18", "created_at(5i)"=>"41", "position"=>"", "teaser"=>"this is the teaser"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY="}
  [4;35;1mChapter Create (0.7ms)[0m   [0mINSERT INTO "chapters" ("updated_at", "title", "body", "teaser", "position", "created_at") VALUES('2009-05-11 18:41:00', 'Blocks', 'body of chapter', 'this is the teaser', NULL, '2009-05-11 18:41:00')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 112ms (DB: 1) | 302 Found [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 14:41:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 14:41:45) [GET]
  [4;35;1mChapter Load (0.5ms)[0m   [0mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 9ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#new (for 127.0.0.1 at 2009-05-11 14:42:17) [GET]
Rendering template within layouts/chapters
Rendering chapters/new
Completed in 12ms (View: 7, DB: 0) | 200 OK [http://localhost/chapters/new]


Processing ChaptersController#create (for 127.0.0.1 at 2009-05-11 14:42:34) [POST]
  Parameters: {"commit"=>"Create", "chapter"=>{"body"=>"my body", "title"=>"Second Title", "position"=>"", "teaser"=>"teaser"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY="}
  [4;36;1mChapter Create (0.4ms)[0m   [0;1mINSERT INTO "chapters" ("updated_at", "title", "body", "teaser", "position", "created_at") VALUES('2009-05-11 18:42:34', 'Second Title', 'my body', 'teaser', NULL, '2009-05-11 18:42:34')[0m
Redirected to http://localhost:3000/chapters/2
Completed in 10ms (DB: 0) | 302 Found [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 14:42:34) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://localhost/chapters/2]
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateChapters (20090511182942)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "chapters"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090511182942'[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateChapters (20090511182942)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "chapters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "teaser" text, "body" text, "position" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090511182942')[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("chapters")[0m


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 14:43:04) [GET]
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 5ms (View: 1, DB: 0) | 200 OK [http://localhost/chapters]


Processing ChaptersController#new (for 127.0.0.1 at 2009-05-11 14:44:43) [GET]
Rendering template within layouts/chapters
Rendering chapters/new
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/chapters/new]


Processing ChaptersController#create (for 127.0.0.1 at 2009-05-11 14:44:49) [POST]
  Parameters: {"commit"=>"Create", "chapter"=>{"body"=>"body", "title"=>"", "position"=>"", "teaser"=>"teaser"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY="}
Rendering template within layouts/chapters
Rendering chapters/new
Completed in 12ms (View: 3, DB: 0) | 200 OK [http://localhost/chapters]
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mChapter Load (0.7ms)[0m   [0;1mSELECT * FROM "chapters" WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mChapter Create (0.3ms)[0m   [0mINSERT INTO "chapters" ("updated_at", "title", "body", "teaser", "position", "created_at") VALUES('2009-05-11 18:52:54', 'Happy times', NULL, NULL, 1, '2009-05-11 18:52:54')[0m
  [4;36;1mChapter Load (1.5ms)[0m   [0;1mSELECT * FROM "chapters" WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mChapter Create (0.4ms)[0m   [0mINSERT INTO "chapters" ("updated_at", "title", "body", "teaser", "position", "created_at") VALUES('2009-05-11 18:53:12', 'we need more stuff', NULL, NULL, 2, '2009-05-11 18:53:12')[0m
  [4;36;1mChapter Load (0.6ms)[0m   [0;1mSELECT * FROM "chapters" [0m
  [4;35;1mChapter Load (0.7ms)[0m   [0mSELECT * FROM "chapters" [0m
  [4;36;1mChapter Create (0.5ms)[0m   [0;1mINSERT INTO "chapters" ("updated_at", "title", "body", "teaser", "position", "created_at") VALUES('2009-05-11 18:56:26', 'go with love', NULL, NULL, NULL, '2009-05-11 18:56:26')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateChapters (20090511182942)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "chapters"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090511182942'[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateChapters (20090511182942)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "chapters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "teaser" text, "body" text, "position" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090511182942')[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("chapters")[0m
  [4;36;1mChapter Load (1.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mChapter Create (0.3ms)[0m   [0mINSERT INTO "chapters" ("updated_at", "title", "body", "teaser", "position", "created_at") VALUES('2009-05-11 18:59:25', 'First Chapter', NULL, NULL, 1, '2009-05-11 18:59:25')[0m
  [4;36;1mChapter Load (0.8ms)[0m   [0;1mSELECT * FROM "chapters" WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mChapter Create (0.3ms)[0m   [0mINSERT INTO "chapters" ("updated_at", "title", "body", "teaser", "position", "created_at") VALUES('2009-05-11 18:59:38', 'Second Chapter', NULL, NULL, 2, '2009-05-11 18:59:38')[0m
  [4;36;1mChapter Load (1.2ms)[0m   [0;1mSELECT * FROM "chapters" [0m
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter Update (0.6ms)[0m   [0;1mUPDATE "chapters" SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;35;1mChapter Load (0.9ms)[0m   [0mSELECT * FROM "chapters" WHERE (1 = 1 AND id != 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mChapter Update (0.1ms)[0m   [0;1mUPDATE "chapters" SET "position" = 2, "updated_at" = '2009-05-11 19:00:37' WHERE "id" = 1[0m
  [4;35;1mChapter Load (0.5ms)[0m   [0mSELECT * FROM "chapters" [0m
  [4;36;1mChapter Update (0.4ms)[0m   [0;1mUPDATE "chapters" SET position = (position + 1) WHERE (1 = 1 AND position < 2) [0m
  [4;35;1mChapter Update (0.1ms)[0m   [0mUPDATE "chapters" SET "position" = 1, "updated_at" = '2009-05-11 19:02:52' WHERE "id" = 1[0m
  [4;36;1mChapter Load (0.7ms)[0m   [0;1mSELECT * FROM "chapters" [0m
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."title" = 'test') LIMIT 1[0m
  [4;36;1mChapter Load (0.8ms)[0m   [0;1mSELECT * FROM "chapters" WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mChapter Create (0.3ms)[0m   [0mINSERT INTO "chapters" ("updated_at", "title", "body", "teaser", "position", "created_at") VALUES('2009-05-11 19:05:14', 'test', NULL, NULL, 3, '2009-05-11 19:05:14')[0m
  [4;36;1mChapter Load (0.5ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."title" = 'test') LIMIT 1[0m
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."title" = 'chunky bacon') LIMIT 1[0m
  [4;36;1mChapter Load (0.7ms)[0m   [0;1mSELECT * FROM "chapters" [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateChapters (20090511182942)
Migrating to AddVersionedTables (20090511191556)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "chapter_versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "chapter_id" integer, "title" varchar(255), "teaser" text, "body" text, "position" integer, "created_at" datetime, "updated_at" datetime, "version" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "chapters" ADD "version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090511191556')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("chapter_versions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("chapters")[0m


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 15:22:29) [GET]
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NameError (undefined local variable or method `acts_as_list' for #<Class:0x22a8184>):
  app/models/chapter.rb:2
  app/controllers/chapters_controller.rb:5:in `index'

Rendered rescues/_trace (39.6ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 15:23:35) [GET]
  [4;36;1mChapter Load (1.0ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 100ms (View: 65, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 15:23:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 15:23:53) [GET]
  [4;36;1mChapter Load (0.8ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://localhost/chapters]
  [4;36;1mChapter Load (1.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mChapter Create (0.5ms)[0m   [0mINSERT INTO "chapters" ("updated_at", "title", "body", "version", "teaser", "position", "created_at") VALUES('2009-05-11 19:24:36', 'eat me', NULL, 1, NULL, 4, '2009-05-11 19:24:36')[0m
  [4;36;1mChapter::Version Create (0.2ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 19:24:36', 'eat me', NULL, 4, 1, NULL, 4, '2009-05-11 19:24:36')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
  [4;36;1mChapter Update (0.4ms)[0m   [0;1mUPDATE "chapters" SET "version" = 2, "body" = 'updated body', "updated_at" = '2009-05-11 19:24:55' WHERE "id" = 4[0m
  [4;35;1mChapter::Version Create (0.2ms)[0m   [0mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 19:24:55', 'eat me', 'updated body', 4, 2, NULL, 4, '2009-05-11 19:24:36')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
  [4;35;1mChapter Update (0.3ms)[0m   [0mUPDATE "chapters" SET "version" = 3, "teaser" = 'moo', "updated_at" = '2009-05-11 19:25:25' WHERE "id" = 4[0m
  [4;36;1mChapter::Version Create (0.2ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 19:25:25', 'eat me', 'updated body', 4, 3, 'moo', 4, '2009-05-11 19:24:36')[0m
  [4;35;1mChapter::Version Load (0.7ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 4) [0m
  [4;35;1mChapter::Version Load (0.9ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 1 AND ("chapter_versions".chapter_id = 4)) [0m
  [4;35;1mChapter::Version Load (0.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 2 AND ("chapter_versions".chapter_id = 4)) [0m
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 1 AND ("chapter_versions".chapter_id = 4)) [0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mChapter Load (0.8ms)[0m   [0;1mSELECT * FROM "chapters" [0m
  [4;35;1mChapter Load (1.1ms)[0m   [0mSELECT * FROM "chapters" [0m
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.1ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 3) [0m
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
  [4;35;1mChapter Load (0.7ms)[0m   [0mSELECT * FROM "chapters" [0m
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.2ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mChapter Update (0.4ms)[0m   [0mUPDATE "chapters" SET "version" = 1, "title" = 'moo', "updated_at" = '2009-05-11 20:26:47' WHERE "id" = 1[0m
  [4;36;1mChapter::Version Create (0.2ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 20:26:47', 'moo', NULL, 1, 1, NULL, 1, '2009-05-11 18:59:25')[0m
  [4;35;1mChapter Load (0.6ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mChapter Load (0.6ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mChapter Update (0.3ms)[0m   [0;1mUPDATE "chapters" SET "version" = 2, "title" = 'go', "updated_at" = '2009-05-11 20:28:35' WHERE "id" = 1[0m
  [4;35;1mChapter::Version Create (0.1ms)[0m   [0mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 20:28:35', 'go', NULL, 1, 2, NULL, 1, '2009-05-11 18:59:25')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mChapter Update (0.3ms)[0m   [0mUPDATE "chapters" SET "version" = 3, "title" = 'go fast', "updated_at" = '2009-05-11 20:28:47' WHERE "id" = 1[0m
  [4;36;1mChapter::Version Create (0.1ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 20:28:47', 'go fast', NULL, 1, 3, NULL, 1, '2009-05-11 18:59:25')[0m
  [4;35;1mChapter::Version Load (0.6ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 1 AND ("chapter_versions".chapter_id = 1)) [0m


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 16:39:22) [GET]
  [4;35;1mChapter Load (1.0ms)[0m   [0mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 82ms (View: 9, DB: 1) | 200 OK [http://localhost/chapters]
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateChapters (20090511182942)
Migrating to AddVersionedTables (20090511191556)
Migrating to CreateComments (20090511204139)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "blog_url" varchar(255), "body" text, "chapter_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090511204139')[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("chapter_versions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("chapters")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("comments")[0m


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 16:43:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-05-11 16:44:02) [GET]

ActionController::RoutingError (No route matches "/chapters/1/revisions/2" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-05-11 16:44:08) [GET]

ActionController::RoutingError (No route matches "/chapters/1/revision/2" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 16:46:07) [GET]
  [4;35;1mChapter Load (0.9ms)[0m   [0mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#new (for 127.0.0.1 at 2009-05-11 16:56:15) [GET]
Rendering template within layouts/chapters
Rendering chapters/new
Rendered chapters/_form (1.4ms)
Completed in 21ms (View: 13, DB: 0) | 200 OK [http://localhost/chapters/new]


Processing ChaptersController#new (for 127.0.0.1 at 2009-05-11 16:56:28) [GET]
Rendering template within layouts/chapters
Rendering chapters/new
Rendered chapters/_form (0.6ms)
Completed in 15ms (View: 7, DB: 0) | 200 OK [http://localhost/chapters/new]


Processing ChaptersController#new (for 127.0.0.1 at 2009-05-11 16:56:39) [GET]
Rendering template within layouts/chapters
Rendering chapters/new
Rendered chapters/_form (1.4ms)
Completed in 19ms (View: 7, DB: 0) | 200 OK [http://localhost/chapters/new]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 16:58:15) [GET]
  [4;36;1mChapter Load (1.1ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 16:58:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (1.4ms)
Completed in 20ms (View: 11, DB: 0) | 200 OK [http://localhost/chapters/1/edit]


Processing ChaptersController#update (for 127.0.0.1 at 2009-05-11 16:58:27) [PUT]
  Parameters: {"commit"=>"Update", "chapter"=>{"body"=>"body", "title"=>"go fast", "teaser"=>"teaser"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mChapter Update (0.4ms)[0m   [0;1mUPDATE "chapters" SET "version" = 4, "teaser" = 'teaser', "body" = 'body', "updated_at" = '2009-05-11 20:58:27' WHERE "id" = 1[0m
  [4;35;1mChapter::Version Create (0.2ms)[0m   [0mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 20:58:27', 'go fast', 'body', 1, 4, 'teaser', 1, '2009-05-11 18:59:25')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 32ms (DB: 1) | 302 Found [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 16:58:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.5ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 68ms (View: 4, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 16:58:29) [GET]
  [4;35;1mChapter Load (1.0ms)[0m   [0mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 16:58:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (0.6ms)
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/1/edit]


Processing ChaptersController#update (for 127.0.0.1 at 2009-05-11 16:58:40) [PUT]
  Parameters: {"commit"=>"Update", "chapter"=>{"body"=>"body", "title"=>"go fast", "teaser"=>"teaser mooo 2"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mChapter Update (0.6ms)[0m   [0mUPDATE "chapters" SET "version" = 5, "teaser" = 'teaser mooo 2', "updated_at" = '2009-05-11 20:58:40' WHERE "id" = 1[0m
  [4;36;1mChapter::Version Create (0.2ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 20:58:40', 'go fast', 'body', 1, 5, 'teaser mooo 2', 1, '2009-05-11 18:59:25')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 24ms (DB: 1) | 302 Found [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 16:58:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 16:58:42) [GET]
  [4;36;1mChapter Load (0.9ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 16:59:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 16:59:51) [GET]
  [4;36;1mChapter Load (1.1ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 17:07:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (0.7ms)
Completed in 73ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/1/edit]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 17:12:48) [GET]
  [4;36;1mChapter Load (0.9ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 16ms (View: 7, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:12:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show

ActionView::TemplateError (undefined local variable or method `chapter' for #<ActionView::Base:0x248f204>) on line #4 of app/views/chapters/show.html.erb:
1: <ul>
2: 	<li>
3: 		<h2>
4: 			<div class="chapter_position"><%= chapter.position %></div>
5: 			<%=h @chapter.title %>
6: 		</h2>
7: 		<p><%=h @chapter.teaser %></p>

    app/views/chapters/show.html.erb:4
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (110.7ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:13:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show

ActionView::TemplateError (undefined local variable or method `chapter' for #<ActionView::Base:0x24eefc4>) on line #4 of app/views/chapters/show.html.erb:
1: <ul>
2: 	<li>
3: 		<h2>
4: 			<div class="chapter_position"><%=h chapter.position %></div>
5: 			<%=h @chapter.title %>
6: 		</h2>
7: 		<p><%=h @chapter.teaser %></p>

    app/views/chapters/show.html.erb:4
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (43.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:14:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 17ms (View: 6, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:15:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:15:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 17:17:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (0.6ms)
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/1/edit]


Processing ChaptersController#update (for 127.0.0.1 at 2009-05-11 17:17:55) [PUT]
  Parameters: {"commit"=>"Update", "chapter"=>{"body"=>"teaser mooo 2\r\n\r\n* happy\r\n* sad\r\n* good\r\n* bad", "title"=>"go fast", "teaser"=>"teaser mooo 2\r\n\r\n* happy\r\n* sad\r\n* good\r\n* bad"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mChapter Update (0.8ms)[0m   [0mUPDATE "chapters" SET "version" = 6, "teaser" = 'teaser mooo 2

* happy
* sad
* good
* bad', "body" = 'teaser mooo 2

* happy
* sad
* good
* bad', "updated_at" = '2009-05-11 21:17:55' WHERE "id" = 1[0m
  [4;36;1mChapter::Version Create (0.2ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 21:17:55', 'go fast', 'teaser mooo 2

* happy
* sad
* good
* bad', 1, 6, 'teaser mooo 2

* happy
* sad
* good
* bad', 1, '2009-05-11 18:59:25')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 22ms (DB: 1) | 302 Found [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:17:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show

ActionView::TemplateError (uninitialized constant ActionView::Helpers::TextHelper::RedCloth) on line #5 of app/views/chapters/show.html.erb:
2: 	<div class="chapter_position"><%=h @chapter.position -%></div>
3: 	<%=h @chapter.title -%>
4: </h2>
5: <p><%= textilize(@chapter.teaser) %></p>
6: <p><%=h textilize(@chapter.body) %></p>
7: 
8: <%= link_to 'Edit', edit_chapter_path(@chapter) %> |

    app/views/chapters/show.html.erb:5
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (44.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:19:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show

ActionView::TemplateError (uninitialized constant ActionView::Helpers::TextHelper::RedCloth) on line #5 of app/views/chapters/show.html.erb:
2: 	<div class="chapter_position"><%=h @chapter.position -%></div>
3: 	<%=h @chapter.title -%>
4: </h2>
5: <p><%= textilize(@chapter.teaser) %></p>
6: <p><%=h textilize(@chapter.body) %></p>
7: 
8: <%= link_to 'Edit', edit_chapter_path(@chapter) %> |

    app/views/chapters/show.html.erb:5
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (96.9ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:20:10) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show

ActionView::TemplateError (uninitialized constant ActionView::Helpers::TextHelper::RedCloth) on line #5 of app/views/chapters/show.html.erb:
2: 	<div class="chapter_position"><%=h @chapter.position -%></div>
3: 	<%=h @chapter.title -%>
4: </h2>
5: <p><%= textilize(@chapter.teaser) %></p>
6: <p><%=h textilize(@chapter.body) %></p>
7: 
8: <%= link_to 'Edit', edit_chapter_path(@chapter) %> |

    app/views/chapters/show.html.erb:5
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (114.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:20:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 31ms (View: 14, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:20:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:51:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show

ActionView::TemplateError (undefined method `each' for 6:Fixnum) on line #12 of app/views/chapters/show.html.erb:
9: <%= link_to 'Back', chapters_path %>
10: 
11: <h2>Previous Revisions</h2>
12: <% @chapter.version.each do |version| %>
13: 	<%= link_to version.version, revision_path(@chapter, version.id) %>
14: <% end %>

    app/views/chapters/show.html.erb:12
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (46.9ms)
Rendered rescues/_request_and_response (55.2ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:52:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:53:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show

ActionView::TemplateError (undefined method `each' for 6:Fixnum) on line #12 of app/views/chapters/show.html.erb:
9: <%= link_to 'Back', chapters_path %>
10: 
11: <h2>Previous Revisions</h2>
12: <% @chapter.version.each do |version| %>
13: <% puts version.version %>
14: <% end %>

    app/views/chapters/show.html.erb:12
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (95.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:53:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show

ActionView::TemplateError (undefined method `each' for 6:Fixnum) on line #12 of app/views/chapters/show.html.erb:
9: <%= link_to 'Back', chapters_path %>
10: 
11: <h2>Previous Revisions</h2>
12: <% @chapter.version.each do |version| %>
13: <% puts version %>
14: <% end %>

    app/views/chapters/show.html.erb:12
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (42.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:53:48) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.9ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.1ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 44ms (View: 31, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:53:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.9ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:53:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.0ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 17:54:00) [GET]
  [4;36;1mChapter Load (1.0ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 69ms (View: 61, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 17:54:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (1.4ms)
Completed in 20ms (View: 11, DB: 0) | 200 OK [http://localhost/chapters/1/edit]


Processing ChaptersController#update (for 127.0.0.1 at 2009-05-11 17:54:13) [PUT]
  Parameters: {"commit"=>"Update", "chapter"=>{"body"=>"teaser mooo 2\r\n\r\n* happy\r\n* sad\r\n* good\r\n* bad\r\n\r\nasdf", "title"=>"go fast", "teaser"=>"teaser mooo 2\r\n\r\n* happy\r\n* sad\r\n* good\r\n* bad"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mChapter Update (0.4ms)[0m   [0;1mUPDATE "chapters" SET "version" = 7, "body" = 'teaser mooo 2

* happy
* sad
* good
* bad

asdf', "updated_at" = '2009-05-11 21:54:13' WHERE "id" = 1[0m
  [4;35;1mChapter::Version Create (0.2ms)[0m   [0mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 21:54:13', 'go fast', 'teaser mooo 2

* happy
* sad
* good
* bad

asdf', 1, 7, 'teaser mooo 2

* happy
* sad
* good
* bad', 1, '2009-05-11 18:59:25')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 23ms (DB: 1) | 302 Found [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:54:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.2ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 17:54:14) [GET]
  [4;36;1mChapter Load (0.9ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:54:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.0ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:54:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 81ms (View: 71, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:54:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.1ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 25ms (View: 15, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:54:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 24ms (View: 14, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:55:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.1ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 24ms (View: 14, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:55:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show

ActionView::TemplateError (undefined method `pp' for #<Chapter:0x22b3cc8>) on line #11 of app/views/chapters/show.html.erb:
8: <%= link_to 'Edit', edit_chapter_path(@chapter) %> |
9: <%= link_to 'Back', chapters_path %>
10: 
11: <% puts @chapter.pp %>
12: 
13: <h2>Previous Revisions</h2>
14: <% @chapter.versions.each do |version| %>

    app/views/chapters/show.html.erb:11
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (45.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:55:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.2ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 25ms (View: 14, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:55:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.5ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (2.4ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 109ms (View: 94, DB: 3) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:56:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.1ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 24ms (View: 14, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:56:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 34ms (View: 24, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:56:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.1ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 21ms (View: 12, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:56:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.2ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 93ms (View: 23, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:59:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
ERROR: compiling _run_erb_app47views47chapters47show46html46erb RAISED compile error
/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/views/chapters/show.html.erb:15: syntax error, unexpected ')'
@output_buffer.concat "\t"; @output_buffer.concat(( link_to version.version, revision_path (@chapter, version.id,) ).to_s); @output_buffer.concat "\n"
                                                                                                                  ^
Function body:           def _run_erb_app47views47chapters47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h2>\n"
@output_buffer.concat "\t<div class=\"chapter_position\">"; @output_buffer.concat((h @chapter.position ).to_s); @output_buffer.concat "</div>\n"
@output_buffer.concat "\t"; @output_buffer.concat((h @chapter.title ).to_s)
@output_buffer.concat "</h2>\n"
@output_buffer.concat "<p>"; @output_buffer.concat(( textilize(@chapter.teaser) ).to_s); @output_buffer.concat "</p>\n"
@output_buffer.concat "<p>"; @output_buffer.concat(( textilize(@chapter.body) ).to_s); @output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat(( link_to 'Edit', edit_chapter_path(@chapter) ).to_s); @output_buffer.concat " |\n"
@output_buffer.concat(( link_to 'Back', chapters_path ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<h2>Previous Revisions</h2>\n"
 @chapter.versions.each do |version| ; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( debug(version) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( link_to version.version, revision_path (@chapter, version.id,) ).to_s); @output_buffer.concat "\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/pkruger/Sites/github.com/miamiphp/bookblog/app/views/chapters/show.html.erb:19:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:943:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:135:in `custom'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:179:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:179:in `respond'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:173:in `each'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:173:in `respond'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:107:in `respond_to'
/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/controllers/chapters_controller.rb:18:in `show'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1322:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1322:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:61:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/views/chapters/show.html.erb:15: syntax error, unexpected ')'
@output_buffer.concat "\t"; @output_buffer.concat(( link_to version.version, revision_path (@chapter, version.id,) ).to_s); @output_buffer.concat "\n"
                                                                                                                  ^) on line #15 of app/views/chapters/show.html.erb:
12: <h2>Previous Revisions</h2>
13: <% @chapter.versions.each do |version| %>
14: 	<%= debug(version) %>
15: 	<%= link_to version.version, revision_path (@chapter, version.id,) %>
16: <% end %>

    app/views/chapters/show.html.erb:19:in `compile!'
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (103.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 17:59:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.1ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 32ms (View: 22, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:00:02) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.0ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 32ms (View: 22, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:00:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m

ActionView::TemplateError (undefined method `revision_path' for #<ActionView::Base:0x22fd120>) on line #15 of app/views/chapters/show.html.erb:
12: <h2>Previous Revisions</h2>
13: <% @chapter.versions.each do |version| %>
14: 	<%= debug(version) %>
15: 	<%= link_to version.version, revision_path() %>
16: <% end %>

    app/views/chapters/show.html.erb:15
    app/views/chapters/show.html.erb:13
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (43.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:03:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m

ActionView::TemplateError (undefined method `revision_path' for #<ActionView::Base:0x228c9d4>) on line #15 of app/views/chapters/show.html.erb:
12: <h2>Previous Revisions</h2>
13: <% @chapter.versions.each do |version| %>
14: 	<%= debug(version) %>
15: 	<%= link_to version.version, revision_path(@chapter, version.id) %>
16: <% end %>

    app/views/chapters/show.html.erb:15
    app/views/chapters/show.html.erb:13
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (46.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:05:02) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 35ms (View: 24, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:05:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
ERROR: compiling _run_erb_app47views47chapters47show46html46erb RAISED compile error
/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/views/chapters/show.html.erb:14: unknown regexp options - dbg
/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/views/chapters/show.html.erb:14: syntax error, unexpected '(', expecting ')'
@output_buffer.concat "\t"; @output_buffer.concat(( //debug(version) ).to_s); @output_buffer.concat "\n"
                                                            ^
/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/views/chapters/show.html.erb:14: syntax error, unexpected ')', expecting kEND
@output_buffer.concat "\t"; @output_buffer.concat(( //debug(version) ).to_s); @output_buffer.concat "\n"
                                                                            ^
Function body:           def _run_erb_app47views47chapters47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h2>\n"
@output_buffer.concat "\t<div class=\"chapter_position\">"; @output_buffer.concat((h @chapter.position ).to_s); @output_buffer.concat "</div>\n"
@output_buffer.concat "\t"; @output_buffer.concat((h @chapter.title ).to_s)
@output_buffer.concat "</h2>\n"
@output_buffer.concat "<p>"; @output_buffer.concat(( textilize(@chapter.teaser) ).to_s); @output_buffer.concat "</p>\n"
@output_buffer.concat "<p>"; @output_buffer.concat(( textilize(@chapter.body) ).to_s); @output_buffer.concat "</p>\n"
@output_buffer.concat "\n"
@output_buffer.concat(( link_to 'Edit', edit_chapter_path(@chapter) ).to_s); @output_buffer.concat " |\n"
@output_buffer.concat(( link_to 'Back', chapters_path ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<h2>Previous Revisions</h2>\n"
 @chapter.versions.each do |version| ; @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( //debug(version) ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t"; @output_buffer.concat(( link_to version.version, chapter_revision_path(@chapter, version.id)  ).to_s); @output_buffer.concat "\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/pkruger/Sites/github.com/miamiphp/bookblog/app/views/chapters/show.html.erb:19:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:943:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:135:in `custom'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:179:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:179:in `respond'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:173:in `each'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:173:in `respond'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/mime_responds.rb:107:in `respond_to'
/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/controllers/chapters_controller.rb:18:in `show'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1322:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1322:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:61:in `process'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:159:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:158:in `process_client'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:285:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `initialize'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `new'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/gems/1.8/gems/mongrel-1.1.4/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/views/chapters/show.html.erb:14: unknown regexp options - dbg
/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/views/chapters/show.html.erb:14: syntax error, unexpected '(', expecting ')'
@output_buffer.concat "\t"; @output_buffer.concat(( //debug(version) ).to_s); @output_buffer.concat "\n"
                                                            ^
/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/views/chapters/show.html.erb:14: syntax error, unexpected ')', expecting kEND
@output_buffer.concat "\t"; @output_buffer.concat(( //debug(version) ).to_s); @output_buffer.concat "\n"
                                                                            ^) on line #14 of app/views/chapters/show.html.erb:
11: 
12: <h2>Previous Revisions</h2>
13: <% @chapter.versions.each do |version| %>
14: 	<%= //debug(version) %>
15: 	<%= link_to version.version, chapter_revision_path(@chapter, version.id)  %>
16: <% end %>

    app/views/chapters/show.html.erb:19:in `compile!'
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (99.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:05:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.1ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:05:26) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}

NoMethodError (undefined method `[]' for :params:Symbol):
  app/controllers/revisions_controller.rb:3:in `show'

Rendered rescues/_trace (31.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:06:33) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}

NoMethodError (undefined method `[]' for :params:Symbol):
  app/controllers/revisions_controller.rb:3:in `show'

Rendered rescues/_trace (34.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:06:35) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}

NoMethodError (undefined method `[]' for :params:Symbol):
  app/controllers/revisions_controller.rb:3:in `show'

Rendered rescues/_trace (32.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:07:29) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}

NoMethodError (undefined method `[]' for :params:Symbol):
  app/controllers/revisions_controller.rb:3:in `show'

Rendered rescues/_trace (98.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:07:31) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}

NoMethodError (undefined method `[]' for :params:Symbol):
  app/controllers/revisions_controller.rb:3:in `show'

Rendered rescues/_trace (31.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:07:56) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
Rendering revisions/show
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/1/revisions/10]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:08:04) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
Rendering revisions/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.chapter) on line #3 of app/views/revisions/show.html.erb:
1: <%= debug(@version) %>
2: 
3: <p>Note: The newest version of this chapter can be found <%= link_to "here", chapter_path(@version.chapter.id) %></p>
4: <%= @version.position %> <%= @version.title %> version: <%= @version.version %>
5: <p><%= textilize(@version.teaser) %></p>
6: <p><%= textilize(@version.body) %></p>

    app/views/revisions/show.html.erb:3

Rendered rescues/_trace (45.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:08:43) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}

NoMethodError (undefined method `[]' for :params:Symbol):
  app/controllers/revisions_controller.rb:4:in `show'

Rendered rescues/_trace (30.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:09:12) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}

NoMethodError (undefined method `[]' for :params:Symbol):
  app/controllers/revisions_controller.rb:4:in `show'

Rendered rescues/_trace (32.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:09:22) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}

NoMethodError (undefined method `[]' for :params:Symbol):
  app/controllers/revisions_controller.rb:4:in `show'

Rendered rescues/_trace (31.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#show (for 127.0.0.1 at 2009-05-11 18:10:10) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}

SyntaxError (/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/controllers/revisions_controller.rb:4: syntax error, unexpected ':', expecting kEND
    @chapter = Chapter.find :params :chapter_id
                                     ^):
  

Rendered rescues/_trace (31.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:10:32) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering revisions/show
Completed in 12ms (View: 3, DB: 0) | 200 OK [http://localhost/chapters/1/revisions/10]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:10:47) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 1 AND ("chapter_versions".chapter_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Chapter::Version with ID=1 AND ("chapter_versions".chapter_id = 1)):
  app/controllers/revisions_controller.rb:6:in `show'

Rendered rescues/_trace (33.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:11:10) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 2 AND ("chapter_versions".chapter_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Chapter::Version with ID=2 AND ("chapter_versions".chapter_id = 1)):
  app/controllers/revisions_controller.rb:5:in `show'

Rendered rescues/_trace (34.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:11:19) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering revisions/show
Completed in 9ms (View: 1, DB: 0) | 200 OK [http://localhost/chapters/1/revisions/10]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:11:33) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering revisions/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.chapter) on line #3 of app/views/revisions/show.html.erb:
1: <%= debug(@chapter) %>
2: 
3: <p>Note: The newest version of this chapter can be found <%= link_to "here", chapter_path(@version.chapter.id) %></p>
4: <%= @version.position %> <%= @version.title %> version: <%= @version.version %>
5: <p><%= textilize(@version.teaser) %></p>
6: <p><%= textilize(@version.body) %></p>

    app/views/revisions/show.html.erb:3

Rendered rescues/_trace (38.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:12:30) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.1ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 2 AND ("chapter_versions".chapter_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Chapter::Version with ID=2 AND ("chapter_versions".chapter_id = 1)):
  app/controllers/revisions_controller.rb:5:in `show'

Rendered rescues/_trace (32.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:12:36) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 0 AND ("chapter_versions".chapter_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Chapter::Version with ID=0 AND ("chapter_versions".chapter_id = 1)):
  app/controllers/revisions_controller.rb:5:in `show'

Rendered rescues/_trace (35.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:13:17) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.1ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Chapter with ID=0):
  app/controllers/revisions_controller.rb:4:in `show'

Rendered rescues/_trace (34.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:13:33) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.2ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 0 AND ("chapter_versions".chapter_id = 1)) [0m

ActiveRecord::RecordNotFound (Couldn't find Chapter::Version with ID=0 AND ("chapter_versions".chapter_id = 1)):
  app/controllers/revisions_controller.rb:5:in `show'

Rendered rescues/_trace (35.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (not_found)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:14:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.1ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:14:53) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 10 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mChapter::Version Load (1.1ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 30ms (View: 17, DB: 2) | 200 OK [http://localhost/chapters/1/revisions/10]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:15:09) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 10 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 86ms (View: 75, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/10]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:15:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:15:18) [GET]
  Parameters: {"id"=>"5", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 10 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 16ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:15:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.0ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:15:31) [GET]
  Parameters: {"id"=>"10", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.4ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 10 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 15ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/10]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:15:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.1ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 18:15:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (0.7ms)
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/1/edit]


Processing ChaptersController#update (for 127.0.0.1 at 2009-05-11 18:15:53) [PUT]
  Parameters: {"commit"=>"Update", "chapter"=>{"body"=>"teaser mooo 2\r\n\r\n* happy\r\n* sad\r\n* good\r\n* bad\r\n\r\nasdf", "title"=>"go fast kill", "teaser"=>"teaser mooo 2\r\n\r\n* happy\r\n* sad\r\n* good\r\n* bad\r\n\r\nthis is the 11th revision"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mChapter Update (0.3ms)[0m   [0;1mUPDATE "chapters" SET "version" = 8, "teaser" = 'teaser mooo 2

* happy
* sad
* good
* bad

this is the 11th revision', "title" = 'go fast kill', "updated_at" = '2009-05-11 22:15:54' WHERE "id" = 1[0m
  [4;35;1mChapter::Version Create (0.2ms)[0m   [0mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 22:15:54', 'go fast kill', 'teaser mooo 2

* happy
* sad
* good
* bad

asdf', 1, 8, 'teaser mooo 2

* happy
* sad
* good
* bad

this is the 11th revision', 1, '2009-05-11 18:59:25')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 99ms (DB: 1) | 302 Found [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:15:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.6ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 22ms (View: 11, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:15:56) [GET]
  Parameters: {"id"=>"11", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 10 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 15ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/11]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:16:02) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 21ms (View: 10, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:16:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:16:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:17:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:17:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 22ms (View: 10, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:18:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 21ms (View: 11, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:18:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:18:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:18:51) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:18:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 21ms (View: 10, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:19:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (2.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 91ms (View: 12, DB: 3) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:19:25) [GET]
  Parameters: {"id"=>"4", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 10 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 23ms (View: 9, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/4]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:19:43) [GET]
  Parameters: {"id"=>"4", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.4ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 10 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 16ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/4]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:19:55) [GET]
  Parameters: {"id"=>"4", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 10 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 16ms (View: 5, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/4]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:20:02) [GET]
  Parameters: {"id"=>"4", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 10 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 15ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/4]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:20:35) [GET]
  Parameters: {"id"=>"4", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 4 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 14ms (View: 2, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/4]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:20:51) [GET]
  Parameters: {"id"=>"4", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 4 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 15ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/4]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:21:08) [GET]
  Parameters: {"id"=>"4", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 4 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 16ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/4]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:21:27) [GET]
  Parameters: {"id"=>"4", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 4 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 14ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/4]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:21:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 21ms (View: 11, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:21:32) [GET]
  Parameters: {"id"=>"11", "chapter_id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mChapter::Version Load (0.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 11 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/11]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:21:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.2ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 22ms (View: 11, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:21:55) [GET]
  [4;36;1mChapter Load (1.0ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:23:14) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 4) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.7ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters/4]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:23:18) [GET]
  [4;35;1mChapter Load (1.1ms)[0m   [0mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 19ms (View: 10, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:23:22) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.2ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
Completed in 14ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters/2]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:24:34) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.>) on line #11 of app/views/chapters/show.html.erb:
8: <%= link_to 'Edit', edit_chapter_path(@chapter) %> |
9: <%= link_to 'Back', chapters_path %>
10: 
11: <% if @chapter.version > 1 %>
12: 	<h2>Previous Revisions</h2>
13: 	<% @chapter.versions.each do |version| %>
14: 		<%= link_to version.version, chapter_revision_path(@chapter, version.id)  %>

    app/views/chapters/show.html.erb:11
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (105.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:25:03) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters/2]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:25:06) [GET]
  [4;35;1mChapter Load (1.0ms)[0m   [0mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 16ms (View: 7, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:25:10) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
Completed in 16ms (View: 6, DB: 1) | 200 OK [http://localhost/chapters/2]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 18:25:12) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (0.6ms)
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/2/edit]


Processing ChaptersController#update (for 127.0.0.1 at 2009-05-11 18:25:26) [PUT]
  Parameters: {"commit"=>"Update", "chapter"=>{"body"=>"we haqve a new body", "title"=>"Second Chapter follow up", "teaser"=>"making sure to update the teaser"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "id"=>"2"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
  [4;35;1mChapter Update (0.3ms)[0m   [0mUPDATE "chapters" SET "version" = 1, "teaser" = 'making sure to update the teaser', "title" = 'Second Chapter follow up', "body" = 'we haqve a new body', "updated_at" = '2009-05-11 22:25:26' WHERE "id" = 2[0m
  [4;36;1mChapter::Version Create (0.2ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 22:25:26', 'Second Chapter follow up', 'we haqve a new body', 2, 1, 'making sure to update the teaser', 2, '2009-05-11 18:59:38')[0m
Redirected to http://localhost:3000/chapters/2
Completed in 23ms (DB: 1) | 302 Found [http://localhost/chapters/2]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:25:26) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
Completed in 85ms (View: 6, DB: 1) | 200 OK [http://localhost/chapters/2]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:25:39) [GET]
  [4;35;1mChapter Load (0.9ms)[0m   [0mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 17ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:25:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mChapter::Version Load (1.2ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Completed in 21ms (View: 10, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:25:45) [GET]
  [4;35;1mChapter Load (0.9ms)[0m   [0mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:25:48) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
Completed in 15ms (View: 6, DB: 1) | 200 OK [http://localhost/chapters/2]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:25:53) [GET]
  [4;36;1mChapter Load (1.0ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:26:01) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
Completed in 15ms (View: 6, DB: 1) | 200 OK [http://localhost/chapters/2]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:26:30) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
Completed in 91ms (View: 14, DB: 1) | 200 OK [http://localhost/chapters/2]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:26:39) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/chapters/2]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:26:58) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
Completed in 21ms (View: 11, DB: 1) | 200 OK [http://localhost/chapters/2]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:27:10) [GET]
  Parameters: {"id"=>"12", "chapter_id"=>"2"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
  [4;35;1mChapter::Version Load (0.4ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 12 AND ("chapter_versions".chapter_id = 2)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Completed in 15ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/2/revisions/12]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:27:13) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 2) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 2) [0m
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters/2]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:27:15) [GET]
  [4;36;1mChapter Load (0.9ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 15ms (View: 7, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#new (for 127.0.0.1 at 2009-05-11 18:27:17) [GET]
Rendering template within layouts/chapters
Rendering chapters/new
Rendered chapters/_form (0.6ms)
Completed in 17ms (View: 8, DB: 0) | 200 OK [http://localhost/chapters/new]


Processing ChaptersController#create (for 127.0.0.1 at 2009-05-11 18:27:25) [POST]
  Parameters: {"commit"=>"Create", "chapter"=>{"body"=>"body", "title"=>"new chapter", "teaser"=>"teaser"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY="}
  [4;35;1mChapter Load (1.3ms)[0m   [0mSELECT * FROM "chapters" WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mChapter Create (0.3ms)[0m   [0;1mINSERT INTO "chapters" ("updated_at", "title", "body", "version", "teaser", "position", "created_at") VALUES('2009-05-11 22:27:25', 'new chapter', 'body', 1, 'teaser', 5, '2009-05-11 22:27:25')[0m
  [4;35;1mChapter::Version Create (0.2ms)[0m   [0mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 22:27:25', 'new chapter', 'body', 5, 1, 'teaser', 5, '2009-05-11 22:27:25')[0m
Redirected to http://localhost:3000/chapters/5
Completed in 23ms (DB: 2) | 302 Found [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:27:25) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mChapter::Version Load (0.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:27:36) [GET]
  Parameters: {"id"=>"13", "chapter_id"=>"5"}
  [4;35;1mChapter Load (0.5ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
  [4;36;1mChapter::Version Load (0.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 13 AND ("chapter_versions".chapter_id = 5)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Completed in 15ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/5/revisions/13]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:27:46) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.6ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mChapter::Version Load (0.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:27:57) [GET]
  [4;35;1mChapter Load (1.1ms)[0m   [0mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:28:00) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 4) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
Completed in 90ms (View: 12, DB: 2) | 200 OK [http://localhost/chapters/4]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:28:04) [GET]
  Parameters: {"id"=>"2", "chapter_id"=>"4"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 4) [0m
  [4;36;1mChapter::Version Load (0.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 2 AND ("chapter_versions".chapter_id = 4)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 4) [0m
Completed in 15ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/4/revisions/2]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:28:06) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 4) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters/4]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 18:28:10) [GET]
  Parameters: {"id"=>"1", "chapter_id"=>"4"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 4) [0m
  [4;36;1mChapter::Version Load (0.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 1 AND ("chapter_versions".chapter_id = 4)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 4) [0m
Completed in 14ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/4/revisions/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:28:12) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 4) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 4) [0m
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters/4]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:28:17) [GET]
  [4;35;1mChapter Load (1.0ms)[0m   [0mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 16ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:29:46) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Completed in 16ms (View: 6, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 18:29:50) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (0.8ms)
Completed in 17ms (View: 6, DB: 0) | 200 OK [http://localhost/chapters/5/edit]


Processing ChaptersController#update (for 127.0.0.1 at 2009-05-11 18:30:05) [PUT]
  Parameters: {"commit"=>"Update", "chapter"=>{"body"=>"body revisions 2", "title"=>"new chapter revisions 2", "teaser"=>"teaser revisions 2"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mChapter Update (0.4ms)[0m   [0mUPDATE "chapters" SET "version" = 2, "teaser" = 'teaser revisions 2', "title" = 'new chapter revisions 2', "body" = 'body revisions 2', "updated_at" = '2009-05-11 22:30:05' WHERE "id" = 5[0m
  [4;36;1mChapter::Version Create (0.2ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-11 22:30:05', 'new chapter revisions 2', 'body revisions 2', 5, 2, 'teaser revisions 2', 5, '2009-05-11 22:27:25')[0m
Redirected to http://localhost:3000/chapters/5
Completed in 24ms (DB: 1) | 302 Found [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:30:05) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mChapter::Version Load (0.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:30:10) [GET]
  [4;36;1mChapter Load (1.1ms)[0m   [0;1mSELECT * FROM "chapters" [0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 17ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:33:11) [GET]
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `find_by_ascending' for #<Class:0x2104788>):
  app/controllers/chapters_controller.rb:5:in `index'

Rendered rescues/_trace (111.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:33:28) [GET]
  [4;36;1mChapter Load (1.6ms)[0m   [0;1mSELECT * FROM "chapters" ORDER BY position ASC[0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 19ms (View: 9, DB: 2) | 200 OK [http://localhost/chapters]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 18:33:50) [GET]
  [4;35;1mChapter Load (1.5ms)[0m   [0mSELECT * FROM "chapters" ORDER BY position DESC[0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 17ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:42:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.2ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m

ActionView::TemplateError (Missing template comments/_form.erb in view path app/views) on line #24 of app/views/chapters/show.html.erb:
21:  					 :collection => @chapter.comments %>
22: <% end %>
23: <h3>Add a Comment!</h3>
24: <%= render :partial => 'comments/form' %>

    app/views/chapters/show.html.erb:24
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateChapters (20090511182942)
Migrating to AddVersionedTables (20090511191556)
Migrating to CreateComments (20090511204139)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("chapter_versions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("chapters")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("comments")[0m


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 18:44:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_form (0.4ms)
Completed in 31ms (View: 18, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:03:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.2ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m

ActionView::TemplateError (undefined method `comments_path' for #<ActionView::Base:0x2147060>) on line #1 of app/views/comments/_form.erb:
1: <% form_for :comment, :url => comments_path(@chapter) do |f| %>
2: <p>
3: 	<label	for="comment_name">Your Name</label>
4: 	<%= f.text_field :name %>

    app/views/comments/_form.erb:1
    app/views/chapters/show.html.erb:24
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (50.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:03:51) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_form (1.5ms)
Completed in 27ms (View: 17, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:04:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_form (1.9ms)
Completed in 32ms (View: 20, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:12:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_form (0.8ms)
Completed in 26ms (View: 14, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:12:38) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;36;1mComment Create (0.4ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:12:38', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:12:38')[0m

NoMethodError (undefined method `chapter' for #<Comment:0x21c8e6c>):
  app/controllers/comments_controller.rb:10:in `create'

Rendered rescues/_trace (32.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:13:36) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;35;1mComment Create (0.5ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:13:36', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:13:36')[0m

NoMethodError (undefined method `chapter' for #<Comment:0x2059bbc>):
  app/controllers/comments_controller.rb:10:in `create'

Rendered rescues/_trace (33.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:13:50) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;36;1mComment Create (0.8ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:13:50', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:13:50')[0m

NoMethodError (undefined method `chapter' for #<Comment:0x225e778>):
  app/controllers/comments_controller.rb:10:in `create'

Rendered rescues/_trace (43.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:14:19) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;35;1mComment Create (0.4ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:14:19', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:14:19')[0m
Rendering comments/create
Completed in 14ms (View: 4, DB: 0) | 200 OK [http://localhost/chapters/1/comments]


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:14:41) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;36;1mComment Create (0.5ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:14:41', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:14:41')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 12ms (DB: 0) | 302 Found [http://localhost/chapters/1/comments]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:14:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.8ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.8ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #1 of app/views/comments/_comment.erb:
1: <h3><%= @comment.name %> said</h3>
2: <p><%= @comment.body %></p>

    app/views/comments/_comment.erb:1
    app/views/chapters/show.html.erb:21
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (121.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:15:26) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;36;1mComment Create (0.4ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:15:26', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:15:26')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 12ms (DB: 0) | 302 Found [http://localhost/chapters/1/comments]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:15:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.9ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #1 of app/views/comments/_comment.erb:
1: <h3><%= @comment.name %> said</h3>
2: <p><%= @comment.body %></p>

    app/views/comments/_comment.erb:1
    app/views/chapters/show.html.erb:21
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (121.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:16:37) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;36;1mComment Create (0.6ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:16:37', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:16:37')[0m
Rendering comments/create
Completed in 20ms (View: 7, DB: 1) | 200 OK [http://localhost/chapters/1/comments]


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:16:51) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;35;1mComment Create (0.4ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:16:51', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:16:51')[0m
Rendering comments/create
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/chapters/1/comments]


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:18:31) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;36;1mComment Create (0.4ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:18:31', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:18:31')[0m

ActionController::ActionControllerError (Cannot redirect to nil!):
  app/controllers/comments_controller.rb:11:in `create'

Rendered rescues/_trace (119.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:20:59) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;35;1mComment Create (0.5ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:20:59', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:20:59')[0m

ActionController::RoutingError (chapter_url failed to generate from {:action=>"show", :controller=>"chapters"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["chapters", :id] - are they all satisfied?):
  (eval):16:in `chapter_url'
  app/controllers/comments_controller.rb:11:in `create'

Rendering rescues/layout (not_found)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:21:39) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;36;1mComment Create (0.4ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:21:39', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:21:39')[0m

ArgumentError (wrong number of arguments (3 for 2)):
  app/controllers/comments_controller.rb:11:in `redirect_to'
  app/controllers/comments_controller.rb:11:in `create'

Rendered rescues/_trace (43.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#create (for 127.0.0.1 at 2009-05-11 20:23:08) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}

SyntaxError (/Users/pkruger/Sites/github.com/miamiphp/bookblog/app/controllers/comments_controller.rb:11: syntax error, unexpected '=', expecting kEND
    redirect_to :chapter, :show, :id = @comment.chapter_id
                                      ^):
  

Rendered rescues/_trace (31.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:23:26) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;35;1mComment Create (0.5ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:23:26', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:23:26')[0m

ArgumentError (wrong number of arguments (3 for 2)):
  app/controllers/comments_controller.rb:11:in `redirect_to'
  app/controllers/comments_controller.rb:11:in `create'

Rendered rescues/_trace (44.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:23:39) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;36;1mComment Create (0.5ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:23:39', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:23:39')[0m

ActionController::RoutingError (chapter_url failed to generate from {:action=>"show", :controller=>"chapters"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["chapters", :id] - are they all satisfied?):
  (eval):16:in `chapter_url'
  app/controllers/comments_controller.rb:11:in `create'

Rendering rescues/layout (not_found)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:24:31) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;35;1mComment Create (0.4ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:24:31', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:24:31')[0m

ActionController::RoutingError (chapter_url failed to generate from {:action=>"show", :controller=>"chapters"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["chapters", :id] - are they all satisfied?):
  (eval):16:in `chapter_url'
  app/controllers/comments_controller.rb:11:in `create'

Rendering rescues/layout (not_found)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:24:47) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;36;1mComment Create (0.4ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:24:47', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:24:47')[0m

ActionController::ActionControllerError (Cannot redirect to nil!):
  app/controllers/comments_controller.rb:11:in `create'

Rendered rescues/_trace (41.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:25:06) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"how are you", "email"=>"paul@miamiphp.org"}}
  [4;35;1mComment Create (0.6ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:25:06', 'how are you', 1, NULL, 'paul@miamiphp.org', '2009-05-12 00:25:06')[0m

ActionController::ActionControllerError (Cannot redirect to nil!):
  app/controllers/comments_controller.rb:11:in `create'

Rendered rescues/_trace (114.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:25:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.4ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;36;1mComment Load (2.1ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #1 of app/views/comments/_comment.erb:
1: <h3><%= @comment.name %> said</h3>
2: <p><%= @comment.body %></p>

    app/views/comments/_comment.erb:1
    app/views/chapters/show.html.erb:21
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (126.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:26:19) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Rendered comments/_form (0.7ms)
Completed in 28ms (View: 17, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:26:28) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"", "email"=>"pau"}}
  [4;35;1mComment Create (0.5ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:26:28', '', 1, NULL, 'pau', '2009-05-12 00:26:28')[0m

ActionController::ActionControllerError (Cannot redirect to nil!):
  app/controllers/comments_controller.rb:11:in `create'

Rendered rescues/_trace (31.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:28:44) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"", "email"=>"pau"}}
  [4;36;1mComment Create (0.5ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:28:44', '', 1, NULL, 'pau', '2009-05-12 00:28:44')[0m

ActionController::RoutingError (chapter_url failed to generate from {:action=>"show", :controller=>"chapters"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["chapters", :id] - are they all satisfied?):
  (eval):16:in `chapter_url'
  app/controllers/comments_controller.rb:10:in `create'

Rendering rescues/layout (not_found)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:29:29) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"", "email"=>"pau"}}
  [4;35;1mComment Create (0.6ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:29:29', '', 1, NULL, 'pau', '2009-05-12 00:29:29')[0m

ActionController::RoutingError (chapter_url failed to generate from {:action=>"show", :controller=>"chapters"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["chapters", :id] - are they all satisfied?):
  (eval):16:in `chapter_url'
  app/controllers/comments_controller.rb:10:in `create'

Rendering rescues/layout (not_found)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:29:34) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"", "email"=>"pau"}}
  [4;36;1mComment Create (0.6ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:29:34', '', 1, NULL, 'pau', '2009-05-12 00:29:34')[0m

ActionController::RoutingError (chapter_url failed to generate from {:action=>"show", :controller=>"chapters"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["chapters", :id] - are they all satisfied?):
  (eval):16:in `chapter_url'
  app/controllers/comments_controller.rb:10:in `create'

Rendering rescues/layout (not_found)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:29:53) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"", "email"=>"pau"}}
  [4;35;1mComment Create (0.4ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:29:53', '', 1, NULL, 'pau', '2009-05-12 00:29:53')[0m

ActionController::RoutingError (chapter_url failed to generate from {:action=>"show", :controller=>"chapters", :chapter_id=>1}, expected: {:controller=>"chapters", :action=>"show"}, diff: {:chapter_id=>1}):
  (eval):16:in `chapter_path'
  app/controllers/comments_controller.rb:10:in `create'

Rendering rescues/layout (not_found)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:30:17) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"", "email"=>"pau"}}
  [4;36;1mComment Create (0.6ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:30:17', '', 1, NULL, 'pau', '2009-05-12 00:30:17')[0m

ActionController::RoutingError (chapter_url failed to generate from {:action=>"show", :controller=>"chapters"} - you may have ambiguous routes, or you may need to supply additional parameters for this route.  content_url has the following required parameters: ["chapters", :id] - are they all satisfied?):
  (eval):16:in `chapter_path'
  app/controllers/comments_controller.rb:10:in `create'

Rendering rescues/layout (not_found)


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:34:01) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"", "email"=>"pau"}}
  [4;35;1mComment Create (0.5ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:34:01', '', 1, NULL, 'pau', '2009-05-12 00:34:01')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 14ms (DB: 1) | 302 Found [http://localhost/chapters/1/comments]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:34:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (1.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Rendered comments/_form (0.9ms)
Completed in 25ms (View: 14, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 20:34:13) [GET]
  Parameters: {"id"=>"11", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.4ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 11 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 17ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/11]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:34:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (1.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
Rendered comments/_form (0.8ms)
Completed in 24ms (View: 13, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 20:34:19) [GET]
  [4;35;1mChapter Load (1.5ms)[0m   [0mSELECT * FROM "chapters" ORDER BY position DESC[0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 17ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:34:25) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Rendered comments/_form (0.8ms)
Completed in 21ms (View: 11, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:34:37) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"5", "comment"=>{"name"=>"paul", "body"=>"this is my comment", "email"=>"paul@miamiphp.org"}}
  [4;36;1mComment Create (0.6ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 00:34:37', 'this is my comment', 5, NULL, 'paul@miamiphp.org', '2009-05-12 00:34:37')[0m
Redirected to http://localhost:3000/chapters/5
Completed in 12ms (DB: 1) | 302 Found [http://localhost/chapters/5/comments]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:34:37) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Rendered comments/_form (0.8ms)
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:58:01) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Rendered comments/_form (0.9ms)
Completed in 25ms (View: 14, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 20:58:11) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"5", "comment"=>{"name"=>"p", "body"=>"alsdfjalskjfj", "email"=>"paul@miamiphp.org"}}
  [4;35;1mComment Create (0.4ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('p', '2009-05-12 00:58:11', 'alsdfjalskjfj', 5, NULL, 'paul@miamiphp.org', '2009-05-12 00:58:11')[0m
Redirected to http://localhost:3000/chapters/5
Completed in 12ms (DB: 0) | 302 Found [http://localhost/chapters/5/comments]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:58:11) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (2.1ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Rendered comments/_form (1.3ms)
Completed in 25ms (View: 13, DB: 2) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:59:02) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m

ActionView::TemplateError (undefined method `has_comments?' for #<Chapter:0x205a314>) on line #18 of app/views/chapters/show.html.erb:
15: 	<% end %>
16: <% end %>
17: 
18: <% if @chapter.has_comments? %>
19: <h3>Comments</h3>
20: <%= render :partial => 'comments/comment',
21:  					 :collection => @chapter.comments %>

    app/views/chapters/show.html.erb:18
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (46.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 20:59:55) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m

ActionView::TemplateError (undefined method `has_comments?' for #<Chapter:0x213133c>) on line #18 of app/views/chapters/show.html.erb:
15: 	<% end %>
16: <% end %>
17: 
18: <% if @chapter.has_comments? %>
19: <h3>Comments</h3>
20: <%= render :partial => 'comments/comment',
21:  					 :collection => @chapter.comments %>

    app/views/chapters/show.html.erb:18
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (44.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:00:50) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.6ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m

ActionView::TemplateError (undefined method `has_comments?' for #<Chapter:0x2168eb8>) on line #18 of app/views/chapters/show.html.erb:
15: 	<% end %>
16: <% end %>
17: 
18: <% if @chapter.has_comments? %>
19: <h3>Comments</h3>
20: <%= render :partial => 'comments/comment',
21:  					 :collection => @chapter.comments %>

    app/views/chapters/show.html.erb:18
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (116.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:01:15) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mComment Load (0.5ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #1 of app/views/comments/_comment.erb:
1: <h3><%= @comment.name %> said</h3>
2: <p><%= @comment.body %></p>

    app/views/comments/_comment.erb:1
    app/views/chapters/show.html.erb:21
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (123.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:01:39) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Rendered comments/_form (0.8ms)
Completed in 21ms (View: 11, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:02:27) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mComment Load (0.5ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #1 of app/views/comments/_comment.erb:
1: <h3><%= @comment.name %> said</h3>
2: <p><%= @comment.body %></p>

    app/views/comments/_comment.erb:1
    app/views/chapters/show.html.erb:21
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (57.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:02:58) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.6ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mComment Load (0.6ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #1 of app/views/comments/_comment.erb:
1: <h3><%= @comment.name %> said</h3>
2: <p><%= @comment.body %></p>

    app/views/comments/_comment.erb:1
    app/views/chapters/show.html.erb:21
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (55.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:03:07) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Completed in 28ms (View: 16, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:03:16) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mComment Load (0.5ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Completed in 30ms (View: 19, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:03:31) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.9ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `has_comments?' for #<Class:0x20d3f98>) on line #17 of app/views/chapters/show.html.erb:
14: 		<%= link_to version.version, chapter_revision_path(@chapter, version.id)  %>
15: 	<% end %>
16: <% end %>
17: <%= debug(@chapter.comments.has_comments?) %>

    app/views/chapters/show.html.erb:17
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (47.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:03:48) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.8ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
Completed in 28ms (View: 15, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:04:15) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mComment Load (0.5ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #1 of app/views/comments/_comment.erb:
1: <h3><%= @comment.name %> said</h3>
2: <p><%= @comment.body %></p>

    app/views/comments/_comment.erb:1
    app/views/chapters/show.html.erb:20
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (54.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:04:48) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mComment Load (0.6ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (0.9ms)
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.8ms)
Completed in 31ms (View: 20, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:07:51) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mComment Load (0.5ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (0.6ms)
Rendered comments/_comment (0.2ms)
Rendered comments/_form (0.7ms)
Completed in 28ms (View: 17, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:07:54) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mComment Load (0.5ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (0.3ms)
Rendered comments/_comment (0.2ms)
Rendered comments/_form (0.7ms)
Completed in 24ms (View: 14, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:08:02) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mComment Load (0.6ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (6.5ms)
Rendered comments/_comment (74.5ms)
Rendered comments/_form (0.6ms)
Completed in 108ms (View: 98, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:10:12) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.6ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mComment Load (0.5ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (6.8ms)
Rendered comments/_comment (5.8ms)
Rendered comments/_form (0.7ms)
Completed in 42ms (View: 31, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:10:34) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mComment Load (0.5ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (3.6ms)
Rendered comments/_comment (2.6ms)
Rendered comments/_form (0.6ms)
Completed in 33ms (View: 22, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:11:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.6ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mComment Load (0.5ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m

ActionView::TemplateError (undefined local variable or method `collection' for #<ActionView::Base:0x24a769c>) on line #1 of app/views/comments/_comment.erb:
1: <pre><%= collection.inspect %></pre>

    app/views/comments/_comment.erb:1
    app/views/chapters/show.html.erb:20
    app/controllers/chapters_controller.rb:18:in `show'

Rendered rescues/_trace (120.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:40:46) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mComment Load (0.5ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (0.6ms)
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.8ms)
Completed in 31ms (View: 20, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 21:41:04) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"5", "comment"=>{"name"=>"smith", "body"=>"eat this", "email"=>"google@123.com"}}
  [4;36;1mComment Create (0.4ms)[0m   [0;1mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('smith', '2009-05-12 01:41:04', 'eat this', 5, NULL, 'google@123.com', '2009-05-12 01:41:04')[0m
Redirected to http://localhost:3000/chapters/5
Completed in 12ms (DB: 0) | 302 Found [http://localhost/chapters/5/comments]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:41:04) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mComment Load (0.6ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_comment (0.1ms)
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.8ms)
Completed in 25ms (View: 14, DB: 2) | 200 OK [http://localhost/chapters/5]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 21:41:11) [GET]
  Parameters: {"id"=>"14", "chapter_id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 14 AND ("chapter_versions".chapter_id = 5)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Completed in 15ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/5/revisions/14]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:41:14) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mChapter Load (0.5ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;35;1mComment Load (0.7ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_comment (0.1ms)
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.7ms)
Completed in 102ms (View: 16, DB: 2) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:42:16) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mComment Load (0.6ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_comment (0.1ms)
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.8ms)
Completed in 25ms (View: 14, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 21:42:19) [GET]
  Parameters: {"id"=>"14", "chapter_id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
  [4;36;1mChapter::Version Load (0.3ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 14 AND ("chapter_versions".chapter_id = 5)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m

ActionView::TemplateError (undefined method `has_comments?' for #<Chapter::Version:0x20bf9bc>) on line #8 of app/views/revisions/show.html.erb:
5: <p><%= textilize(@version.teaser) %></p>
6: <p><%= textilize(@version.body) %></p>
7: 
8: <% if @version.has_comments? %>
9: <h3>Comments</h3>
10: <%= render  :partial => "comments/comment",
11:              :collection => @version.comments %>

    app/views/revisions/show.html.erb:8

Rendered rescues/_trace (111.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 21:42:47) [GET]
  Parameters: {"id"=>"14", "chapter_id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
  [4;35;1mChapter::Version Load (0.4ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 14 AND ("chapter_versions".chapter_id = 5)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m

ActionView::TemplateError (undefined method `has_comments?' for #<Chapter::Version:0x220b028>) on line #8 of app/views/revisions/show.html.erb:
5: <p><%= textilize(@version.teaser) %></p>
6: <p><%= textilize(@version.body) %></p>
7: 
8: <% if @version.has_comments? %>
9: <h3>Comments</h3>
10: <%= render  :partial => "comments/comment",
11:              :collection => @version.comments %>

    app/views/revisions/show.html.erb:8

Rendered rescues/_trace (41.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 21:43:15) [GET]
  Parameters: {"id"=>"14", "chapter_id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
  [4;36;1mChapter::Version Load (0.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 14 AND ("chapter_versions".chapter_id = 5)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Completed in 22ms (View: 9, DB: 1) | 200 OK [http://localhost/chapters/5/revisions/14]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 21:43:28) [GET]
  Parameters: {"id"=>"14", "chapter_id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
  [4;35;1mChapter::Version Load (0.4ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 14 AND ("chapter_versions".chapter_id = 5)) [0m
Rendering revisions/show

ActionView::TemplateError (undefined method `comments' for #<Chapter::Version:0x21af408>) on line #1 of app/views/revisions/show.html.erb:
1: <%= debug(@version.comments) %>
2: 
3: <p>Note: The newest version of this chapter can be found <%= link_to "here", chapter_path(@version.chapter.id) %></p>
4: <%= @version.position %> <%= @version.title %> version: <%= @version.version %>

    app/views/revisions/show.html.erb:1

Rendered rescues/_trace (107.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 21:44:14) [GET]
  Parameters: {"id"=>"14", "chapter_id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 14 AND ("chapter_versions".chapter_id = 5)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Completed in 20ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters/5/revisions/14]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 21:44:21) [GET]
  Parameters: {"id"=>"14", "chapter_id"=>"5"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
  [4;36;1mChapter::Version Load (0.4ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 14 AND ("chapter_versions".chapter_id = 5)) [0m
Rendering revisions/show
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Completed in 19ms (View: 6, DB: 1) | 200 OK [http://localhost/chapters/5/revisions/14]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:44:23) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 5) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mChapter::Version Load (0.5ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 5) [0m
  [4;36;1mComment Load (0.6ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 5) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_comment (0.0ms)
Rendered comments/_comment (0.0ms)
Rendered comments/_form (0.7ms)
Completed in 25ms (View: 14, DB: 1) | 200 OK [http://localhost/chapters/5]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 21:44:38) [GET]
  [4;35;1mChapter Load (1.7ms)[0m   [0mSELECT * FROM "chapters" ORDER BY position DESC[0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 17ms (View: 8, DB: 2) | 200 OK [http://localhost/chapters]


Processing ChaptersController#new (for 127.0.0.1 at 2009-05-11 21:44:43) [GET]
Rendering template within layouts/chapters
Rendering chapters/new
Rendered chapters/_form (0.7ms)
Completed in 87ms (View: 79, DB: 0) | 200 OK [http://localhost/chapters/new]


Processing ChaptersController#create (for 127.0.0.1 at 2009-05-11 21:45:00) [POST]
  Parameters: {"commit"=>"Create", "chapter"=>{"body"=>"teaseme", "title"=>"my new chapter", "teaser"=>"this is the teaser"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY="}
  [4;36;1mChapter Load (0.9ms)[0m   [0;1mSELECT * FROM "chapters" WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;35;1mChapter Create (0.3ms)[0m   [0mINSERT INTO "chapters" ("updated_at", "title", "body", "version", "teaser", "position", "created_at") VALUES('2009-05-12 01:45:00', 'my new chapter', 'teaseme', 1, 'this is the teaser', 6, '2009-05-12 01:45:00')[0m
  [4;36;1mChapter::Version Create (0.3ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-12 01:45:00', 'my new chapter', 'teaseme', 6, 1, 'this is the teaser', 6, '2009-05-12 01:45:00')[0m
Redirected to http://localhost:3000/chapters/6
Completed in 26ms (DB: 1) | 302 Found [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:45:00) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mChapter Load (0.5ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 6) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mComment Load (0.2ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 6) [0m
Rendered comments/_form (0.7ms)
Completed in 20ms (View: 8, DB: 1) | 200 OK [http://localhost/chapters/6]


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 21:45:13) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"6", "comment"=>{"name"=>"john", "body"=>"COMMENT", "email"=>"john@123.COM"}}
  [4;35;1mComment Create (0.4ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('john', '2009-05-12 01:45:13', 'COMMENT', 6, NULL, 'john@123.COM', '2009-05-12 01:45:13')[0m
Redirected to http://localhost:3000/chapters/6
Completed in 12ms (DB: 0) | 302 Found [http://localhost/chapters/6/comments]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:45:13) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 6) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mComment Load (1.2ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 6) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.8ms)
Completed in 37ms (View: 13, DB: 2) | 200 OK [http://localhost/chapters/6]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 21:45:22) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 6) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (0.7ms)
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/6/edit]


Processing ChaptersController#update (for 127.0.0.1 at 2009-05-11 21:45:33) [PUT]
  Parameters: {"commit"=>"Update", "chapter"=>{"body"=>"teaseme REV 2", "title"=>"my new chapter ", "teaser"=>"this is the teaser REV 2"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "id"=>"6"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 6) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 6) [0m
  [4;35;1mChapter Update (0.3ms)[0m   [0mUPDATE "chapters" SET "version" = 2, "teaser" = 'this is the teaser REV 2', "title" = 'my new chapter ', "body" = 'teaseme REV 2', "updated_at" = '2009-05-12 01:45:33' WHERE "id" = 6[0m
  [4;36;1mChapter::Version Create (0.2ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-12 01:45:33', 'my new chapter ', 'teaseme REV 2', 6, 2, 'this is the teaser REV 2', 6, '2009-05-12 01:45:00')[0m
Redirected to http://localhost:3000/chapters/6
Completed in 24ms (DB: 1) | 302 Found [http://localhost/chapters/6]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 21:45:33) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 6) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.9ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 6) [0m
  [4;35;1mComment Load (0.4ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 6) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.8ms)
Completed in 28ms (View: 16, DB: 2) | 200 OK [http://localhost/chapters/6]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 21:45:44) [GET]
  [4;36;1mChapter Load (1.7ms)[0m   [0;1mSELECT * FROM "chapters" ORDER BY position DESC[0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 19ms (View: 9, DB: 2) | 200 OK [http://localhost/chapters]


Processing ChaptersController#new (for 127.0.0.1 at 2009-05-11 23:04:42) [GET]
Rendering template within layouts/chapters
Rendering chapters/new
Rendered chapters/_form (0.6ms)
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/new]


Processing ChaptersController#create (for 127.0.0.1 at 2009-05-11 23:05:01) [POST]
  Parameters: {"commit"=>"Create", "chapter"=>{"body"=>"body of pedro", "title"=>"pedro chapter", "teaser"=>"teaser body of pedro"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY="}
  [4;35;1mChapter Load (1.4ms)[0m   [0mSELECT * FROM "chapters" WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mChapter Create (0.3ms)[0m   [0;1mINSERT INTO "chapters" ("updated_at", "title", "body", "version", "teaser", "position", "created_at") VALUES('2009-05-12 03:05:01', 'pedro chapter', 'body of pedro', 1, 'teaser body of pedro', 7, '2009-05-12 03:05:01')[0m
  [4;35;1mChapter::Version Create (0.2ms)[0m   [0mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-12 03:05:01', 'pedro chapter', 'body of pedro', 7, 1, 'teaser body of pedro', 7, '2009-05-12 03:05:01')[0m
Redirected to http://localhost:3000/chapters/7
Completed in 23ms (DB: 2) | 302 Found [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:05:01) [GET]
  Parameters: {"id"=>"7"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 7) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 7) [0m
Rendered comments/_form (0.7ms)
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/chapters/7]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 23:05:10) [GET]
  [4;36;1mChapter Load (1.9ms)[0m   [0;1mSELECT * FROM "chapters" ORDER BY position DESC[0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 21ms (View: 10, DB: 2) | 200 OK [http://localhost/chapters]
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateComments (20090511204139)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "comments"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090511204139'[0m
Migrating to AddVersionedTables (20090511191556)
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "chapter_versions"[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_chapters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "teaser" text, "body" text, "position" integer, "created_at" datetime, "updated_at" datetime, "version" integer) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("chapters")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDROP TABLE "chapters"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCREATE TABLE "chapters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "teaser" text, "body" text, "position" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("altered_chapters")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mDROP TABLE "altered_chapters"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090511191556'[0m
Migrating to CreateChapters (20090511182942)
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "chapters"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090511182942'[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 23:05:56) [GET]
  [4;35;1mChapter Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: chapters: SELECT * FROM "chapters" ORDER BY position DESC[0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such table: chapters: SELECT * FROM "chapters"  ORDER BY position DESC):
  app/models/chapter.rb:14:in `find_by_ascending'
  app/controllers/chapters_controller.rb:5:in `index'

Rendered rescues/_trace (39.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateChapters (20090511182942)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "chapters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "teaser" text, "body" text, "position" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090511182942')[0m
Migrating to AddVersionedTables (20090511191556)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "chapter_versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "chapter_id" integer, "title" varchar(255), "teaser" text, "body" text, "position" integer, "created_at" datetime, "updated_at" datetime, "version" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mALTER TABLE "chapters" ADD "version" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090511191556')[0m
Migrating to CreateComments (20090511204139)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "blog_url" varchar(255), "body" text, "chapter_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090511204139')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("chapter_versions")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("chapters")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("comments")[0m


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 23:06:58) [GET]
  [4;36;1mChapter Load (0.9ms)[0m   [0;1mSELECT * FROM "chapters" ORDER BY position DESC[0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 10ms (View: 1, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#new (for 127.0.0.1 at 2009-05-11 23:07:07) [GET]
Rendering template within layouts/chapters
Rendering chapters/new
Rendered chapters/_form (0.7ms)
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/new]


Processing ChaptersController#create (for 127.0.0.1 at 2009-05-11 23:07:21) [POST]
  Parameters: {"commit"=>"Create", "chapter"=>{"body"=>"the body", "title"=>"First Chapter", "teaser"=>"the teaser"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY="}
  [4;35;1mChapter Load (0.6ms)[0m   [0mSELECT * FROM "chapters" WHERE (1 = 1) ORDER BY position DESC LIMIT 1[0m
  [4;36;1mChapter Create (0.3ms)[0m   [0;1mINSERT INTO "chapters" ("updated_at", "title", "body", "version", "teaser", "position", "created_at") VALUES('2009-05-12 03:07:21', 'First Chapter', 'the body', 1, 'the teaser', 1, '2009-05-12 03:07:21')[0m
  [4;35;1mChapter::Version Create (0.3ms)[0m   [0mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-12 03:07:21', 'First Chapter', 'the body', 1, 1, 'the teaser', 1, '2009-05-12 03:07:21')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 102ms (DB: 1) | 302 Found [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:07:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_form (0.8ms)
Completed in 20ms (View: 9, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#index (for 127.0.0.1 at 2009-05-11 23:07:38) [GET]
  [4;36;1mChapter Load (1.1ms)[0m   [0;1mSELECT * FROM "chapters" ORDER BY position DESC[0m
Rendering template within layouts/chapters
Rendering chapters/index
Completed in 15ms (View: 6, DB: 1) | 200 OK [http://localhost/chapters]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:07:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mComment Load (0.3ms)[0m   [0;1mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_form (0.7ms)
Completed in 16ms (View: 7, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing CommentsController#create (for 127.0.0.1 at 2009-05-11 23:07:51) [POST]
  Parameters: {"commit"=>"Add Comment", "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "chapter_id"=>"1", "comment"=>{"name"=>"paul", "body"=>"my comment", "email"=>"paul@miamiphp.org"}}
  [4;35;1mComment Create (0.4ms)[0m   [0mINSERT INTO "comments" ("name", "updated_at", "body", "chapter_id", "blog_url", "email", "created_at") VALUES('paul', '2009-05-12 03:07:51', 'my comment', 1, NULL, 'paul@miamiphp.org', '2009-05-12 03:07:51')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 13ms (DB: 0) | 302 Found [http://localhost/chapters/1/comments]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:07:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;35;1mComment Load (0.7ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.8ms)
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 23:08:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (0.7ms)
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/1/edit]


Processing ChaptersController#update (for 127.0.0.1 at 2009-05-11 23:08:24) [PUT]
  Parameters: {"commit"=>"Update", "chapter"=>{"body"=>"the body\r\n\r\n\r\n* with revision\r\n* line 2", "title"=>"First Chapter", "teaser"=>"the teaser\r\n\r\nwith revision"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mChapter Update (0.3ms)[0m   [0mUPDATE "chapters" SET "version" = 2, "teaser" = 'the teaser

with revision', "body" = 'the body


* with revision
* line 2', "updated_at" = '2009-05-12 03:08:24' WHERE "id" = 1[0m
  [4;36;1mChapter::Version Create (0.2ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-12 03:08:24', 'First Chapter', 'the body


* with revision
* line 2', 1, 2, 'the teaser

with revision', 1, '2009-05-12 03:07:21')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 25ms (DB: 1) | 302 Found [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:08:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.8ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.9ms)
Completed in 26ms (View: 15, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 23:08:48) [GET]
  Parameters: {"id"=>"1", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.5ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 1 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 16ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:08:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.5ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.4ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.7ms)
Completed in 25ms (View: 15, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 23:08:54) [GET]
  Parameters: {"id"=>"2", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.4ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 2 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 16ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/2]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:08:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.9ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.6ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_form (1.0ms)
Completed in 35ms (View: 20, DB: 2) | 200 OK [http://localhost/chapters/1]


Processing ChaptersController#edit (for 127.0.0.1 at 2009-05-11 23:09:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/edit
Rendered chapters/_form (0.7ms)
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/chapters/1/edit]


Processing ChaptersController#update (for 127.0.0.1 at 2009-05-11 23:09:11) [PUT]
  Parameters: {"commit"=>"Update", "chapter"=>{"body"=>"the body\r\n\r\n\r\n* with revision 3\r\n* line 2", "title"=>"First Chapter", "teaser"=>"the teaser\r\n\r\nwith revision 3"}, "authenticity_token"=>"7xl5ExTy67lP5bC6zRVU2GmJTU5Jqj6/515VjS1F3PY=", "id"=>"1"}
  [4;35;1mChapter Load (0.5ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT max("chapter_versions".version) AS max_version FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mChapter Update (0.4ms)[0m   [0mUPDATE "chapters" SET "version" = 3, "teaser" = 'the teaser

with revision 3', "body" = 'the body


* with revision 3
* line 2', "updated_at" = '2009-05-12 03:09:11' WHERE "id" = 1[0m
  [4;36;1mChapter::Version Create (0.2ms)[0m   [0;1mINSERT INTO "chapter_versions" ("updated_at", "title", "body", "chapter_id", "version", "teaser", "position", "created_at") VALUES('2009-05-12 03:09:11', 'First Chapter', 'the body


* with revision 3
* line 2', 1, 3, 'the teaser

with revision 3', 1, '2009-05-12 03:07:21')[0m
Redirected to http://localhost:3000/chapters/1
Completed in 25ms (DB: 1) | 302 Found [http://localhost/chapters/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:09:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.8ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.4ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.8ms)
Completed in 26ms (View: 15, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 23:09:15) [GET]
  Parameters: {"id"=>"1", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.4ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 1 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 15ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/1]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:09:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.7ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.7ms)
Completed in 25ms (View: 14, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 23:09:20) [GET]
  Parameters: {"id"=>"2", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.7ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 2 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 91ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/2]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:09:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.4ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.6ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.8ms)
Completed in 27ms (View: 15, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 23:09:24) [GET]
  Parameters: {"id"=>"3", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 3 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 16ms (View: 4, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/3]


Processing ChaptersController#show (for 127.0.0.1 at 2009-05-11 23:09:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mChapter Load (0.3ms)[0m   [0mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Rendering template within layouts/chapters
Rendering chapters/show
  [4;36;1mChapter::Version Load (0.7ms)[0m   [0;1mSELECT * FROM "chapter_versions" WHERE ("chapter_versions".chapter_id = 1) [0m
  [4;35;1mComment Load (0.3ms)[0m   [0mSELECT * FROM "comments" WHERE ("comments".chapter_id = 1) [0m
Rendered comments/_comment (0.1ms)
Rendered comments/_form (0.7ms)
Completed in 26ms (View: 15, DB: 1) | 200 OK [http://localhost/chapters/1]


Processing RevisionsController#show (for 127.0.0.1 at 2009-05-11 23:09:34) [GET]
  Parameters: {"id"=>"3", "chapter_id"=>"1"}
  [4;36;1mChapter Load (0.3ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
  [4;35;1mChapter::Version Load (0.3ms)[0m   [0mSELECT * FROM "chapter_versions" WHERE ("chapter_versions"."id" = 3 AND ("chapter_versions".chapter_id = 1)) [0m
Rendering revisions/show
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "chapters" WHERE ("chapters"."id" = 1) [0m
Completed in 16ms (View: 3, DB: 1) | 200 OK [http://localhost/chapters/1/revisions/3]
